<p>
  recipes works!
</p>

<button (click)="logMeOutPls()"> Log Out </button>
 <p *ngIf="logoutError" class="error">
   {{ logoutError }}
 </p>

 <div *ngIf="currentUser">
   <h2> You are now logged in as {{ currentUser.fullName }}!! </h2>
   <h2> You are now logged in as {{ currentUser.email }}!! </h2>

   <p> Here's the user object </p>
   <pre> {{ user | json }} </pre>
 </div>

 <hr>
 <p *ngIf="recipeListError" class="error">
   {{ recipeListError }}
 </p>


 <ul>
  <li *ngFor="let recipe of recipeArray">
    <h3> {{ recipe.name }} </h3>
    <img *ngIf = "recipe.picture" [src]="baseUrl + recipe.picture" alt="">
    <p>
      Owned by: {{ recipe.user.fullName }}
    </p>
  </li>
</ul>

<button *ngIf="!isShowingForm" (click)="showRecipeForm()">
  Add Recipe
</button>

<div *ngIf = "isShowingForm">
  <h3>Create a New Recipe</h3>
  <p *ngIf = "saveError" class = "error">
    {{saveError}}
  </p>
<form (ngSubmit) = "saveNewRecipe()">
  <label for="recipe-name-input"> Recipe Name </label>
  <input type = "text" id="recipe-name-input" placeholder=" Spaghetti and Meatballs" [(ngModel)] = "recipeInfo.recipeName" name = "recipeName">
  <br>
  <label for="recipe-serves-input"> Recipe Serves how many ?  </label>
  <input type = "text" id="recipe-serves-input" placeholder=" 4" [(ngModel)] = "recipeInfo.recipeServes" name = "recipeServes">
  <br>
  <label for="recipe-serves-input"> Prep + Cook Time?  </label>
  <input type = "text" id="recipe-cookTime-input" placeholder=" 4" [(ngModel)] = "recipeInfo.recipeCookTime" name = "recipeServes">
  <br>
  <label> Ingredients </label>
  <input type="text" #ingredient />
  <button (click)="addIngredient(ingredient.value); ingredient.value = '' "> add ingredient </button>

  <ul>
    <li *ngFor="let ingredient of recipeInfo.recipeIngredients"> {{ ingredient }} </li>
  </ul>
  <br>
  <label> Directions </label>
  <input type="text" #direction />
  <button (click)="addDirection(direction.value); direction.value = '' "> add direction </button>

  <ul>
    <li *ngFor="let direction of recipeInfo.recipeDirections"> {{ direction }} </li>
  </ul>


  <label for="recipe-picture-input"> Recipe Picture (optional)</label>
    <input  id="recipe-picture-input" type="file" name="recipePictuer"
        ng2FileSelect [uploader]="myCoolUploader">
    <br>

    <button> Save Recipe </button>
</form>

</div>
